{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Tahaa/Desktop/ProgrammData/GIT_REPOS/t-al-d-WebPortfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Particle } from \"./Particles\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nexport class MainRouterComponent {\n  constructor() {\n    this.particlesArray = [];\n    this.allowMouseEffect = true;\n  }\n\n  ngOnInit() {} // after the view has been loaded or else exception gets thrown\n\n\n  ngAfterViewInit() {\n    const tempCanvasContext = this.canvasRef.nativeElement.getContext(\"2d\"); // assin to extra variable for easier access\n\n    if (tempCanvasContext !== null) {\n      this.canvasContext = tempCanvasContext;\n    }\n  } // fill the array with new Particles\n\n\n  fillParticleArray(xPos, yPos) {\n    for (let i = 0; i < 7; i++) {\n      const particle = new Particle(xPos, yPos, Math.random() * 14 + 1, Math.random() * 3 - 1.5, Math.random() * 3 - 1.5, 0.1);\n      this.particlesArray.push(particle);\n    }\n  } // delete Particles wich habe become to small\n\n\n  emptyParticleArray() {\n    for (let i = 0; i < this.particlesArray.length; i++) {\n      const particle = this.particlesArray[i];\n\n      if (particle.size < 2) {\n        this.particlesArray.splice(i, 1);\n      }\n    }\n  } //draw the rectangle on the canvas\n\n\n  drawRectOnCanvas() {\n    this.particlesArray.forEach(particle => {\n      particle.update();\n      particle.draw(this.canvasContext);\n    });\n  } // clear the canvas to draw something new\n\n\n  clearCanvas() {\n    this.canvasContext.clearRect(0, 0, this.canvasRef.nativeElement.width, this.canvasRef.nativeElement.height);\n  } //run async while until array is empty\n\n\n  clearParticles() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      while (_this.particlesArray.length !== 0) {\n        _this.clearCanvas();\n\n        _this.drawRectOnCanvas();\n\n        _this.emptyParticleArray();\n\n        yield new Promise(f => setTimeout(f, 6)); // just for safety\n\n        if (_this.particlesArray.length === 0) {\n          break;\n        }\n      }\n    })();\n  } // user can decide if mouse effects are wished\n\n\n  toggleMouseEffect() {\n    this.allowMouseEffect = !this.allowMouseEffect;\n    this.clearParticles();\n  } // every once and while empty the particleArray\n\n\n  dissolveMouseEffects() {\n    this.clearParticles();\n  } // look out for mousemovements\n\n\n  onMouseMove(event) {\n    if (this.allowMouseEffect) {\n      if (this.canvasRef !== null) {\n        // make canvas fit better\n        this.canvasRef.nativeElement.width = window.innerWidth;\n        this.canvasRef.nativeElement.height = window.innerHeight;\n      }\n\n      if (this.canvasContext !== null) {\n        // important clear first, then draw\n        const correctionX = 165;\n        const correctionY = 120;\n        this.clearCanvas();\n        this.fillParticleArray(event.x - correctionX, event.y - correctionY);\n        this.drawRectOnCanvas();\n        this.emptyParticleArray();\n      }\n    }\n  }\n\n}\n\nMainRouterComponent.ɵfac = function MainRouterComponent_Factory(t) {\n  return new (t || MainRouterComponent)();\n};\n\nMainRouterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MainRouterComponent,\n  selectors: [[\"app-main-router\"]],\n  decls: 4,\n  vars: 0,\n  consts: [[1, \"router\"], [\"canvasRef\", \"\"]],\n  template: function MainRouterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"canvas\", null, 1)(3, \"router-outlet\");\n      i0.ɵɵelementEnd();\n    }\n  },\n  dependencies: [i1.RouterOutlet],\n  styles: [\".router[_ngcontent-%COMP%] {\\n  margin-left: 4px;\\n  margin-right: 4px;\\n}\\n\\n  .router[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%] {\\n    position: fixed;\\n    z-index: -1;\\n    width: 100%;\\n    height: 100%;\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4tcm91dGVyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBZ0I7RUFDaEIsaUJBQWlCO0FBQ25COztFQUVFO0lBQ0UsZUFBZTtJQUNmLFdBQVc7SUFDWCxXQUFXO0lBQ1gsWUFBWTtFQUNkIiwiZmlsZSI6Im1haW4tcm91dGVyLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucm91dGVyIHtcbiAgbWFyZ2luLWxlZnQ6IDRweDtcbiAgbWFyZ2luLXJpZ2h0OiA0cHg7XG59XG5cbiAgLnJvdXRlciBjYW52YXMge1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICB6LWluZGV4OiAtMTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cbiJdfQ== */\"]\n});\n\n__decorate([ViewChild(\"canvasRef\")], MainRouterComponent.prototype, \"canvasRef\", void 0);\n\n__decorate([HostListener(\"window:scroll \", [\"$event\"]), HostListener(\"document:keydown\", [\"$event\"]), HostListener(\"document:mouseleave\", [\"$event\"]), HostListener(\"document:mousedown\", [\"$event\"])], MainRouterComponent.prototype, \"dissolveMouseEffects\", null);\n\n__decorate([HostListener(\"document:mousemove\", [\"$event\"])], MainRouterComponent.prototype, \"onMouseMove\", null);","map":{"version":3,"mappings":"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","names":["Particle","MainRouterComponent","constructor","ngOnInit","ngAfterViewInit","tempCanvasContext","canvasRef","nativeElement","getContext","canvasContext","fillParticleArray","xPos","yPos","i","particle","Math","random","particlesArray","push","emptyParticleArray","length","size","splice","drawRectOnCanvas","forEach","update","draw","clearCanvas","clearRect","width","height","clearParticles","Promise","f","setTimeout","toggleMouseEffect","allowMouseEffect","dissolveMouseEffects","onMouseMove","event","window","innerWidth","innerHeight","correctionX","correctionY","x","y","selectors","decls","vars","consts","template","i0","ViewChild","HostListener"],"sourceRoot":"","sources":["C:\\Users\\Tahaa\\Desktop\\ProgrammData\\GIT_REPOS\\t-al-d-WebPortfolio\\src\\app\\main-router\\main-router.component.ts","C:\\Users\\Tahaa\\Desktop\\ProgrammData\\GIT_REPOS\\t-al-d-WebPortfolio\\src\\app\\main-router\\main-router.component.html"],"sourcesContent":["import { Component, OnInit } from \"@angular/core\";\r\nimport { Particle } from \"./Particles\";\r\n@Component({\r\n    selector: \"app-main-router\",\r\n    templateUrl: \"./main-router.component.html\",\r\n    styleUrls: [\"./main-router.component.css\"],\r\n})\r\nexport class MainRouterComponent implements OnInit {\r\n    constructor() {}\r\n\r\n    ngOnInit(): void {}\r\n\r\n    // Access to a certain element in the DOM\r\n    @ViewChild(\"canvasRef\")\r\n    canvasRef!: ElementRef<HTMLCanvasElement>;\r\n\r\n    // variables needed\r\n    private canvasContext!: CanvasRenderingContext2D;\r\n    private particlesArray: Array<Particle> = [];\r\n    private allowMouseEffect = true;\r\n\r\n    // after the view has been loaded or else exception gets thrown\r\n    ngAfterViewInit(): void {\r\n        const tempCanvasContext = this.canvasRef.nativeElement.getContext(\"2d\");\r\n        // assin to extra variable for easier access\r\n        if (tempCanvasContext !== null) {\r\n            this.canvasContext = tempCanvasContext;\r\n        }\r\n    }\r\n\r\n    // fill the array with new Particles\r\n    fillParticleArray(xPos: number, yPos: number) {\r\n        for (let i = 0; i < 7; i++) {\r\n            const particle = new Particle(\r\n                xPos,\r\n                yPos,\r\n                Math.random() * 14 + 1,\r\n                Math.random() * 3 - 1.5,\r\n                Math.random() * 3 - 1.5,\r\n                0.1\r\n            );\r\n            this.particlesArray.push(particle);\r\n        }\r\n    }\r\n\r\n    // delete Particles wich habe become to small\r\n    emptyParticleArray() {\r\n        for (let i = 0; i < this.particlesArray.length; i++) {\r\n            const particle = this.particlesArray[i];\r\n            if (particle.size < 2) {\r\n                this.particlesArray.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    //draw the rectangle on the canvas\r\n    drawRectOnCanvas() {\r\n        this.particlesArray.forEach((particle) => {\r\n            particle.update();\r\n            particle.draw(this.canvasContext);\r\n        });\r\n    }\r\n\r\n    // clear the canvas to draw something new\r\n    clearCanvas() {\r\n        this.canvasContext.clearRect(\r\n            0,\r\n            0,\r\n            this.canvasRef.nativeElement.width,\r\n            this.canvasRef.nativeElement.height\r\n        );\r\n    }\r\n\r\n    //run async while until array is empty\r\n    async clearParticles() {\r\n        while (this.particlesArray.length !== 0) {\r\n            this.clearCanvas();\r\n            this.drawRectOnCanvas();\r\n            this.emptyParticleArray();\r\n            await new Promise((f) => setTimeout(f, 6));\r\n            // just for safety\r\n            if (this.particlesArray.length === 0) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    // user can decide if mouse effects are wished\r\n    toggleMouseEffect() {\r\n        this.allowMouseEffect = !this.allowMouseEffect;\r\n        this.clearParticles();\r\n    }\r\n\r\n    // every once and while empty the particleArray\r\n    @HostListener(\"window:scroll \", [\"$event\"])\r\n    @HostListener(\"document:keydown\", [\"$event\"])\r\n    @HostListener(\"document:mouseleave\", [\"$event\"])\r\n    @HostListener(\"document:mousedown\", [\"$event\"])\r\n    dissolveMouseEffects() {\r\n        this.clearParticles();\r\n    }\r\n\r\n    // look out for mousemovements\r\n    @HostListener(\"document:mousemove\", [\"$event\"])\r\n    onMouseMove(event: MouseEvent) {\r\n        if (this.allowMouseEffect) {\r\n            if (this.canvasRef !== null) {\r\n                // make canvas fit better\r\n                this.canvasRef.nativeElement.width = window.innerWidth;\r\n                this.canvasRef.nativeElement.height = window.innerHeight;\r\n            }\r\n            if (this.canvasContext !== null) {\r\n                // important clear first, then draw\r\n                const correctionX = 165;\r\n                const correctionY = 120;\r\n                this.clearCanvas();\r\n                this.fillParticleArray(\r\n                    event.x - correctionX,\r\n                    event.y - correctionY\r\n                );\r\n                this.drawRectOnCanvas();\r\n                this.emptyParticleArray();\r\n            }\r\n        }\r\n    }\r\n}\r\n","<div class=\"router\">\n  <canvas #canvasRef></canvas>\n  <router-outlet></router-outlet>\n</div>\n"]},"metadata":{},"sourceType":"module"}